# =============================================================================
# jcardsim.cfg - Configuration jCardSim
# =============================================================================
# Documentation: https://jcardsim.org/docs/configuration

# -----------------------------------------------------------------------------
# Configuration de la carte simulée
# -----------------------------------------------------------------------------

# ATR (Answer To Reset) de la carte simulée
# Format standard JavaCard 3.0.5
com.licel.jcardsim.card.ATR=3B8F8001804F0CA000000306030001000000006A

# -----------------------------------------------------------------------------
# Applets pré-installés
# -----------------------------------------------------------------------------

# ===========================================
# Applet 1: HelloWorld Applet
# AID: F0 00 00 00 01 00 01
# ===========================================
com.licel.jcardsim.card.applet.0.AID=F0000000010001
com.licel.jcardsim.card.applet.0.Class=com.example.helloworld.HelloWorldApplet

# ===========================================
# Applet 2: Counter Applet
# AID: F0 00 00 00 01 00 02
# ===========================================
com.licel.jcardsim.card.applet.1.AID=F0000000010002
com.licel.jcardsim.card.applet.1.Class=com.example.counter.CounterApplet

# ===========================================
# Applet 3: Crypto Applet (PIN + RSA)
# AID: F0 00 00 00 01 00 03
# ===========================================
com.licel.jcardsim.card.applet.2.AID=F0000000010003
com.licel.jcardsim.card.applet.2.Class=com.example.crypto.CryptoApplet

com.licel.jcardsim.card.applet.2.AID=F0000000010007
com.licel.jcardsim.card.applet.2.Class=com.example.monapplet.MonApplet

# ===========================================
# Applet 4: IsoApplet (PKCS#15 compatible)
# AID: F2 76 A2 88 BC FB A6 9D 34 F3 10 01
# Source: https://github.com/philipWendland/IsoApplet
# ===========================================
com.licel.jcardsim.card.applet.3.AID=F276A288BCFBA69D34F31001
com.licel.jcardsim.card.applet.3.Class=xyz.wendland.javacard.pki.isoapplet.IsoApplet

# -----------------------------------------------------------------------------
# Global Platform (Card Manager)
# -----------------------------------------------------------------------------

# Activer le Card Manager pour installer/supprimer des applets à runtime
com.licel.jcardsim.card.enableGlobalPlatform=true

# AID du Card Manager (ISD - Issuer Security Domain)
com.licel.jcardsim.card.ISD.AID=A000000003000000

# Clés de sécurité par défaut (développement uniquement!)
# NE PAS UTILISER EN PRODUCTION
com.licel.jcardsim.card.ISD.ENC=404142434445464748494A4B4C4D4E4F
com.licel.jcardsim.card.ISD.MAC=404142434445464748494A4B4C4D4E4F
com.licel.jcardsim.card.ISD.KEK=404142434445464748494A4B4C4D4E4F

# -----------------------------------------------------------------------------
# Persistance
# -----------------------------------------------------------------------------

# Fichier pour persister l'état de la carte (EEPROM simulée)
com.licel.jcardsim.persistentSimulatorRuntime.data.file=/app/data/jcardsim.data

# Sauvegarder automatiquement après chaque transaction
com.licel.jcardsim.persistentSimulatorRuntime.autosave=true

# -----------------------------------------------------------------------------
# Terminal/Socket Configuration
# -----------------------------------------------------------------------------

# Type de terminal: socket, pcsc, ou contactless
com.licel.jcardsim.terminal.type=socket

# Interface d'écoute (0.0.0.0 pour toutes les interfaces)
com.licel.jcardsim.terminal.host=0.0.0.0

# Port d'écoute pour les connexions APDU
com.licel.jcardsim.terminal.port=9025

# -----------------------------------------------------------------------------
# Options avancées
# -----------------------------------------------------------------------------

# Activer le support T=1 (bloc protocol)
com.licel.jcardsim.card.supportT1=true

# Taille maximale du buffer APDU
com.licel.jcardsim.card.maxAPDUSize=261

# Activer le mode debug (logs détaillés)
com.licel.jcardsim.debug=false

# Timeout pour les transactions (ms)
com.licel.jcardsim.transaction.timeout=30000
